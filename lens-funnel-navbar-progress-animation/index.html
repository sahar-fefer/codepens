<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>lens funnel navbar progress animation</title>
</head>

<body>
    <nav class="next">
        <div class="stage current">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_433_11302)">
                    <rect x="7" y="7" width="18" height="18" rx="9" fill="#2196F3" />
                    <path class="num" d="M16.6855 20H14.9922V13.4727L12.9707 14.0996V12.7227L16.5039 11.457H16.6855V20Z"
                        fill="white" />
                    <path class="v" d="M12.2718,17.0155L15.0296,19.3296L19.6577,13.814" stroke="white"
                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="16px"
                        stroke-dashoffset="16px" />
                </g>
            </svg>
            <div class="text">
                Usage
            </div>
        </div>
        <div class="line"></div>
        <div class="stage">
            <svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_433_11312)">
                    <rect x="7.66675" y="7" width="18" height="18" rx="9" fill="#B8C4CB" />
                    <path class="num"
                        d="M19.6492 20H13.8015V18.8398L16.5613 15.8984C16.9402 15.4844 17.2195 15.123 17.3992 14.8145C17.5828 14.5059 17.6746 14.2129 17.6746 13.9355C17.6746 13.5566 17.5789 13.2598 17.3875 13.0449C17.196 12.8262 16.9226 12.7168 16.5671 12.7168C16.1843 12.7168 15.8816 12.8496 15.6589 13.1152C15.4402 13.377 15.3308 13.7227 15.3308 14.1523H13.6316C13.6316 13.6328 13.7546 13.1582 14.0007 12.7285C14.2507 12.2988 14.6023 11.9629 15.0554 11.7207C15.5085 11.4746 16.0222 11.3516 16.5964 11.3516C17.4753 11.3516 18.157 11.5625 18.6414 11.9844C19.1296 12.4062 19.3738 13.002 19.3738 13.7715C19.3738 14.1934 19.2644 14.623 19.0457 15.0605C18.8269 15.498 18.4519 16.0078 17.9207 16.5898L15.9812 18.6348H19.6492V20Z"
                        fill="white" />
                    <path class="v" d="M12.2718,17.0155L15.0296,19.3296L19.6577,13.814" stroke="white"
                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="16px"
                        stroke-dashoffset="16px" />
                </g>
            </svg>
            <div class="text">
                Prescription
            </div>
        </div>
        <div class="line"></div>
        <div class="stage">
            <svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_433_11322)">
                    <rect x="7.33325" y="7" width="18" height="18" rx="9" fill="#B8C4CB" />
                    <path class="num"
                        d="M15.1907 14.9844H16.093C16.5227 14.9844 16.8411 14.877 17.0481 14.6621C17.2551 14.4473 17.3586 14.1621 17.3586 13.8066C17.3586 13.4629 17.2551 13.1953 17.0481 13.0039C16.845 12.8125 16.5637 12.7168 16.2043 12.7168C15.8801 12.7168 15.6086 12.8066 15.3899 12.9863C15.1711 13.1621 15.0618 13.3926 15.0618 13.6777H13.3684C13.3684 13.2324 13.4875 12.834 13.7258 12.4824C13.968 12.127 14.304 11.8496 14.7336 11.6504C15.1672 11.4512 15.6438 11.3516 16.1633 11.3516C17.0657 11.3516 17.7727 11.5684 18.2844 12.002C18.7961 12.4316 19.052 13.0254 19.052 13.7832C19.052 14.1738 18.9329 14.5332 18.6946 14.8613C18.4563 15.1895 18.1438 15.4414 17.7571 15.6172C18.2375 15.7891 18.595 16.0469 18.8293 16.3906C19.0676 16.7344 19.1868 17.1406 19.1868 17.6094C19.1868 18.3672 18.9094 18.9746 18.3547 19.4316C17.804 19.8887 17.0735 20.1172 16.1633 20.1172C15.3118 20.1172 14.6145 19.8926 14.0715 19.4434C13.5325 18.9941 13.2629 18.4004 13.2629 17.6621H14.9563C14.9563 17.9824 15.0754 18.2441 15.3137 18.4473C15.5559 18.6504 15.8528 18.752 16.2043 18.752C16.6067 18.752 16.9211 18.6465 17.1477 18.4355C17.3782 18.2207 17.4934 17.9375 17.4934 17.5859C17.4934 16.7344 17.0247 16.3086 16.0872 16.3086H15.1907V14.9844Z"
                        fill="white" />
                    <path class="v" d="M12.2718,17.0155L15.0296,19.3296L19.6577,13.814" stroke="white"
                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="16px"
                        stroke-dashoffset="16px" />
                </g>
            </svg>
            <div class="text">
                Lens
            </div>
        </div>
        <div class="line"></div>
        <div class="stage">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_433_11332)">
                    <rect x="7" y="7" width="18" height="18" rx="9" fill="#B8C4CB" />
                    <path class="num"
                        d="M18.1445 16.7891H19.1113V18.1543H18.1445V20H16.4512V18.1543H12.9531L12.877 17.0879L16.4336 11.4688H18.1445V16.7891ZM14.5645 16.7891H16.4512V13.7773L16.3398 13.9707L14.5645 16.7891Z"
                        fill="white" />
                    <path class="v" d="M12.2718,17.0155L15.0296,19.3296L19.6577,13.814" stroke="white"
                        stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="16px"
                        stroke-dashoffset="16px" />
                </g>
            </svg>
            <div class="text">
                Upgrades
            </div>
        </div>
    </nav>

    <div class="buttons-line">
        <button disabled onclick="onStageChange('prev')">Prev</button>
        <button onclick="onStageChange('next')">Next</button>
    </div>
</body>

<script>
    let stage = 0;
    let prevDirection = "next";
    const allStages = document.querySelectorAll(".stage");
    const allButtons = document.querySelectorAll("button");
    const nav = document.querySelector("nav");

    const manageButtons = () => {
        if (stage === 0) {
            allButtons[0].disabled = true;
        } else {
            allButtons[0].disabled = false;
        }
        if (stage === 4) {
            allButtons[1].disabled = true;
        } else {
            allButtons[1].disabled = false;
        }
    };

    const onStageChange = (direction) => {
        if (stage !== 4)
            allStages[stage].classList.remove("current");
        if (direction === "next" && stage !== 4)
            allStages[stage++].classList.add("check");
        else if (direction === "prev" && stage !== 0)
            allStages[--stage].classList.remove("check");
        if (stage !== 4)
            allStages[stage].classList.add("current");
        if (prevDirection !== direction) {
            nav.classList.remove(prevDirection);
            nav.classList.add(direction);
            prevDirection = direction;
        }
        manageButtons();
    };
</script>

</html>